import groovy.json.JsonSlurper

ext {

    /**
     * Creates a version code
     */
    getPopcornVersionCode = { ->
        return Integer.parseInt(new Date().format("yyMMddHHmm"))
    }

    /**
     * Get's the version code from the package.json
     */
    getPopcornVersionName = { ->
        def jsonFile = file("../../package.json")
        def parsedJson = new JsonSlurper().parseText(jsonFile.text)

        return parsedJson.version
    }

}
